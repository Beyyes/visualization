<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
<div id="container" style="height: 37%"></div>
<div style=" position:relative; width: 1000px;height:400px;">
<div id="container15_net" style="width: 380px;height: 300px; position: absolute;left:10px;top: 10px"> </div>
<div id="container16_net" style="width: 380px;height: 300px; position: absolute;left:410px;top: 10px"> </div>
    <div id="container17_net" style="width: 380px;height: 300px; position: absolute;left:810px;top: 10px"> </div>
</div>
<!--<div id="container15_net" style="height: 30%"></div>-->
<!--<div id="container16_net" style="height: 30%"></div>-->
<!--<div id="container3" style="height: 30%"></div>-->
<!--<div id="container4" style="height: 30%"></div>-->

<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
<script type="text/javascript"
        src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="./data/mr/192.168.130.15.js"></script>
<script type="text/javascript" src="./data/mr/192.168.130.16.js"></script>
<script type="text/javascript" src="./data/mr/192.168.130.17.js"></script>
<script type="text/javascript" src="./data/mr/192.168.130.18.js"></script>
<script type="text/javascript" src="./data/mr/192.168.130.19.js"></script>
<script type="text/javascript">

    var range = 100;

    var jsondata15_cpu = [];
    var jsondata15_memory = [];

    var jsondata16_cpu = [];
    var jsondata16_memory = [];

    var jsondata17_cpu = [];
    var jsondata17_memory = [];

    var idx = 0;
    var time = [];

    for (idx  = 0;idx < range; idx++) {
        time.push(idx);
        jsondata15_cpu.push(mr15[idx].cpu);
        jsondata15_memory.push(mr15[idx].memUsed);

        jsondata16_cpu.push(mr16[idx].cpu);
        jsondata16_memory.push(mr16[idx].memUsed);

        jsondata17_cpu.push(mr17[idx].cpu);
        jsondata17_memory.push(mr17[idx].memUsed);
    }

    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    option = null;

    var x1 = '3%', x2 = '35%', x3 = '67%';
    var y1 = '17%', y2 = '60%';
    var height = '25%', width = '26%';
    option = {
        title: {
            text: '内存、CPU实时数据可视化',
            x: 'center',
            y: 0
        },
        grid: [
            {x: x1, y: y1, width: width, height: height},
            {x: x2, y: y1, width: width, height: height},
            {x: x3, y: y1, width: width, height: height},
            {x: x1, y: y2, width: width, height: height},
            {x: x2, y: y2, width: width, height: height},
            {x: x3, y: y2, width: width, height: height}
        ],
        tooltip: {
            formatter: 'Group {a}: ({c})'
        },
        xAxis: [
            {
                gridIndex: 0,
                splitLine: {show: false},
                //type: 'time',
                name: 'time',
                data: time
            },
            {
                gridIndex: 1,
                //type: 'time',
                splitLine: {show: false},
                name: 'time',
                data: time
            },
            {
                gridIndex: 2,
                //type: 'time',
                splitLine: {show: false},
                name: 'time',
                data: time
            },
            {
                gridIndex: 3,
                //type: 'time',
                splitLine: {show: false},
                name: 'time',
                data: time
            },
            {
                gridIndex: 4,
                splitLine: {show: false},
                name: 'time',
                data: time
            },
            {
                gridIndex: 5,
                splitLine: {show: false},
                name: 'time',
                data: time
            }
        ],
        yAxis: [
            {
                gridIndex: 0,
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                max: 100,
                name: 'cpu'
            },
            {
                gridIndex: 1,
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                max: 100,
                name: 'cpu'
            },
            {
                gridIndex: 2,
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                max: 100,
                name: 'cpu'
            },
            {
                gridIndex: 3,
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                max: 100,
                name: 'memory'
            },
            {
                name: 'memory',
                gridIndex: 4,
                type: 'value',
                boundaryGap: [0, '100%'],
                max: 100,
                splitLine: {
                    show: false
                }
            },
            {
                name: 'memory',
                gridIndex: 5,
                type: 'value',
                max: 100,
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                }
            }
        ],
        visualMap: {
            top: 10,
            right: 10,
            pieces: [{
                gt: 0,
                lte: 30,
                color: '#096'
            }, {
                gt: 31,
                lte: 50,
                color: '#ff9933'
            },  {
                gt: 51,
                color: '#7e0023'
            }],
            outOfRange: {
                color: '#999'
            }
        },
        series: [
            {
                name: '哈哈',
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: jsondata15_cpu,
                markLine: {
                    silent: true,
                    data: [
                    {
                        yAxis: 40
                    }, {
                        yAxis: 80
                    }]
                },
                showSymbol: false,
                hoverAnimation: false
            },
            {
                name: '2',
                type: 'line',
                xAxisIndex: 1,
                yAxisIndex: 1,
                data: jsondata16_cpu,
                markLine: {
                    silent: true,
                    data: [
                        {
                            yAxis: 40
                        }, {
                            yAxis: 80
                        }]
                }
            },
            {
                name: '3',
                type: 'line',
                xAxisIndex: 2,
                yAxisIndex: 2,
                data: jsondata17_cpu,
                markLine: {
                    silent: true,
                    data: [
                        {
                            yAxis: 40
                        }, {
                            yAxis: 80
                        }]
                }
            },
            {
                name: '4',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                xAxisIndex: 3,
                yAxisIndex: 3,
                data: jsondata15_memory,
                markLine: {
                    silent: true,
                    data: [
                        {
                            yAxis: 40
                        }, {
                            yAxis: 80
                        }]
                },
            },
            {
                name: '5',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                xAxisIndex: 4,
                yAxisIndex: 4,
                data: jsondata16_memory,
                markLine: {
                    silent: true,
                    data: [
                        {
                            yAxis: 40
                        }, {
                            yAxis: 80
                        }]
                },
            },
            {
                name: '6',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                xAxisIndex: 5,
                yAxisIndex: 5,
                data: jsondata17_memory,
                markLine: {
                    silent: true,
                    data: [
                        {
                            yAxis: 40
                        }, {
                            yAxis: 80
                        }]
                },
            }
        ]
    };

    setInterval(function () {

        for (var i = 0; i < 3; i++) {
            time.shift();
            time.push(idx);
            jsondata15_cpu.shift();
            jsondata15_memory.shift();
            jsondata15_cpu.push(mr15[idx].cpu);
            jsondata15_memory.push(mr15[idx].memUsed);

            jsondata16_cpu.shift();
            jsondata16_memory.shift();
            jsondata16_cpu.push(mr16[idx].cpu);
            jsondata16_memory.push(mr16[idx].memUsed);

            jsondata17_cpu.shift();
            jsondata17_memory.shift();
            jsondata17_cpu.push(mr17[idx].cpu);
            jsondata17_memory.push(mr17[idx].memUsed);
            idx++;
        }

        myChart.setOption({
            xAxis: [{data: time},{data: time},{data: time},{data: time},{data: time},{data: time}],
            series: [{data: jsondata15_cpu}, {data: jsondata16_cpu}, {data: jsondata17_cpu}, {data: jsondata15_memory}, {data: jsondata16_memory}, {data: jsondata17_memory}]
        });
    }, 1000);

    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
</script>

<script type="text/javascript">

    var myChart2 = echarts.init(document.getElementById("container15_net"));

    var jsondata15_nets = [];
    var jsondata15_netr = [];

    var index2 = 0;
    var time2 = [];

    for (index2  = 0;index2 < range; index2++) {
        time2.push(index2);
        jsondata15_nets.push(mr15[index2].netSendSpeed);
        jsondata15_netr.push(-mr15[index2].netRecvSpedd);
    }

    var option2 = {
//        title: {
//            text: '15网络传输',
//            x: 'center',
//            y: 0
//        },
        tooltip: {
            formatter: 'Group {a}: ({c})'
        },
        xAxis: [
            {
                splitLine: {show: false},
                name: 'time',
                data: time2
            }
        ],
        yAxis: [
            {
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                name: 'net'
            },
        ],
        series: [
            {
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: jsondata15_netr,
                showSymbol: false,
                hoverAnimation: false
            },
            {
                type: 'line',
                data: jsondata15_nets,
                showSymbol: false,
                hoverAnimation: false
            }
        ]
    };

    setInterval(function () {

        for (var i = 0; i < 2; i++) {
            time2.shift();
            time2.push(index2);

            jsondata15_nets.shift();
            jsondata15_nets.push(mr15[index2].netSendSpeed);
            jsondata15_netr.shift();
            jsondata15_netr.push(-mr15[index2].netRecvSpedd);

            index2++;
        }

        myChart2.setOption({
            xAxis: [{data: time2}],
            series: [{data: jsondata15_netr},{data: jsondata15_nets}]
        });
    }, 1000);

    if (option2 && typeof option2 === "object") {
        myChart2.setOption(option2, true);
    }
</script>

<script type="text/javascript">

    var dom16net = document.getElementById("container16_net");
    var myChart16net = echarts.init(dom16net);

    var time16net = [];
    var jsondata16_nets = [];
    var jsondata16_netr = [];

    var index16net = 0;
    for (index16net  = 0;index16net < range; index16net++) {
        time16net.push(index16net);

        jsondata16_nets.push(mr16[index16net].netSendSpeed);
        jsondata16_netr.push(-mr16[index16net].netRecvSpedd);

    }

    var option16net = {
        title: {
            text: '网络传输',
            x: 'center',
            y: 0
        },
        tooltip: {
            formatter: 'Group {a}: ({c})'
        },
        xAxis: [
            {
                splitLine: {show: false},
                name: 'time',
                data: time16net
            }
        ],
        yAxis: [
            {
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                name: 'net'
            },
        ],
        series: [
            {
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: jsondata16_netr,
                showSymbol: false,
                hoverAnimation: false
            },
            {
                type: 'line',
                data: jsondata16_nets,
                showSymbol: false,
                hoverAnimation: false
            }
        ]
    };

    setInterval(function () {

        for (var i = 0; i < 2; i++) {
            time16net.shift();
            time16net.push(index16net);

            jsondata16_nets.shift();
            jsondata16_nets.push(mr16[index16net].netSendSpeed);
            jsondata16_netr.shift();
            jsondata16_netr.push(-mr16[index16net].netRecvSpedd);

            index16net++;
        }

        myChart16net.setOption({
            xAxis: [{data: time16net}],
            series: [{data: jsondata16_netr},{data: jsondata16_nets}]
        });
    }, 1000);

    if (option16net && typeof option16net === "object") {
        myChart16net.setOption(option16net, true);
    }
</script>

<script type="text/javascript">

    var myChart17net = echarts.init(document.getElementById("container17_net"));

    var time17net = [];
    var jsondata17_nets = [];
    var jsondata17_netr = [];

    var index17net = 0;
    for (index17net  = 0;index17net < range; index17net++) {
        time17net.push(index17net);

        jsondata17_nets.push(mr17[index17net].netSendSpeed);
        jsondata17_netr.push(-mr17[index17net].netRecvSpedd);

    }

    var option17net = {
//        title: {
//            text: '16网络传输',
//            x: 'center',
//            y: 0
//        },
        tooltip: {
            formatter: 'Group {a}: ({c})'
        },
        xAxis: [
            {
                splitLine: {show: false},
                name: 'time',
                data: time17net
            }
        ],
        yAxis: [
            {
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                name: 'net'
            },
        ],
        series: [
            {
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: jsondata17_netr,
                showSymbol: false,
                hoverAnimation: false
            },
            {
                type: 'line',
                data: jsondata17_nets,
                showSymbol: false,
                hoverAnimation: false
            }
        ]
    };

    setInterval(function () {

        for (var i = 0; i < 2; i++) {
            time17net.shift();
            time17net.push(index17net);

            jsondata17_nets.shift();
            jsondata17_nets.push(mr17[index17net].netSendSpeed);
            jsondata17_netr.shift();
            jsondata17_netr.push(-mr17[index17net].netRecvSpedd);

            index17net++;
        }

        myChart17net.setOption({
            xAxis: [{data: time17net}],
            series: [{data: jsondata17_netr},{data: jsondata17_nets}]
        });
    }, 1000);

    if (option17net && typeof option17net === "object") {
        myChart17net.setOption(option17net, true);
    }
</script>

<script type="text/javascript">

    var myChart15disk = echarts.init(document.getElementById("container15_disk"));

    var jsondata15_diskw = [];
    var jsondata15_diskr = [];

    var jsondata16_diskw = [];
    var jsondata16_diskr = [];

    var jsondata17_nets = [];
    var jsondata17_netr = [];

    var index15disk = 0;
    var time15disk = [];

    for (index15disk  = 0;index15disk < range; index15disk++) {
        time15disk.push(index15disk);
        jsondata15_diskw.push(mr15[index15disk].diskWriteSpeed);
        jsondata15_diskr.push(-mr15[index15disk].diskReadSpeed);

        jsondata16_diskw.push(mr16[index15disk].diskWriteSpeed);
        jsondata16_diskr.push(mr16[index15disk].diskReadSpeed);

        jsondata17_nets.push(mr17[index15disk].diskWriteSpeed);
        jsondata17_netr.push(mr17[index15disk].diskReadSpeed);
    }

    var option15disk = {
        title: {
            text: '15磁盘读写',
            x: 'center',
            y: 10
        },
        tooltip: {
            formatter: 'Group {a}: ({c})'
        },
        xAxis: [
            {
                splitLine: {show: false},
                name: 'time',
                type: 'category',
                data: time15disk
            }
        ],
        yAxis: [
            {
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                },
                name: 'net',
                //inverse: true
            }
        ],
        series: [
            {
                type: 'line',
                yAxisIndex: 0,
                data: jsondata15_diskw,
                showSymbol: false,
                hoverAnimation: false
            },
            {
                type: 'line',
                yAxisIndex: 0,
                data: jsondata15_diskr,
                showSymbol: false,
                hoverAnimation: false
            }
        ]
    };

//    setInterval(function () {
//
//        for (var i = 0; i < 3; i++) {
//            time2.shift();
//            time2.push(index2);
//
//            jsondata15_nets.shift();
//            jsondata15_nets.push(mr15[index2].netSendSpeed);
//            jsondata15_netr.shift();
//            jsondata15_netr.push(mr15[index2].netRecvSpedd);
//
//            jsondata16_nets.push();
//            jsondata16_netr.shift();
//            jsondata16_netr.push(mr16[index2].netRecvSpedd);
//
//            jsondata17_nets.push();
//            jsondata17_netr.shift();
//            jsondata17_netr.push(mr17[index2].netRecvSpedd);
//
//            index2++;
//        }
//
//        myChart3.setOption({
//            xAxis: [{data: time2},{data: time2},{data: time2},{data: time2}],
//            series: [{data: jsondata15_netr},{data: jsondata15_nets} ,{data: jsondata16_netr}, {data: jsondata17_netr}]
//        });
//    }, 1000);

    if (option15disk && typeof option15disk === "object") {
        myChart15disk.setOption(option15disk, true);
    }
</script>

</body>
</html>